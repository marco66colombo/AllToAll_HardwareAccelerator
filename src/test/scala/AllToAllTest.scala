package hppsProject

import chisel3._
import chisel3.iotesters._
import chisel3.util._ 
import org.scalatest._
import hppsProject._



class AllToAll() extends LazyRoCCModuleImpWrapper{
  
  val aTaModule = Module(new AllToAllModule(3,1024,200))

  //command input
  aTaModule.io.cmd.valid := io.cmd.valid
  aTaModule.io.cmd.bits.inst.funct := io.cmd.bits.inst.funct
  aTaModule.io.cmd.bits.inst.rs2 := io.cmd.bits.inst.rs2
  aTaModule.io.cmd.bits.inst.rs1 := io.cmd.bits.inst.rs1
  aTaModule.io.cmd.bits.inst.xd := io.cmd.bits.inst.xd
  aTaModule.io.cmd.bits.inst.xs1 := io.cmd.bits.inst.xs1
  aTaModule.io.cmd.bits.inst.xs2 := io.cmd.bits.inst.xs2
  aTaModule.io.cmd.bits.inst.rd := io.cmd.bits.inst.rd
  aTaModule.io.cmd.bits.inst.opcode := io.cmd.bits.inst.opcode
  aTaModule.io.cmd.bits.rs1 := io.cmd.bits.rs1
  aTaModule.io.cmd.bits.rs2 := io.cmd.bits.rs2
  aTaModule.io.resp.ready := io.resp.ready
  //customModule.io.cmd.bits.status := io.cmd.bits.status

  //resp output
  io.cmd.ready := aTaModule.io.cmd.ready
  io.resp.valid := aTaModule.io.resp.valid
  io.resp.bits.rd := aTaModule.io.resp.bits.rd 
  io.resp.bits.data := aTaModule.io.resp.bits.data

  //interrupt output
  io.interrupt := aTaModule.io.interrupt
  io.busy := aTaModule.io.busy

  //exception input
  aTaModule.io.exception := io.exception

  
  /*
  io.cmd.bits.status := null
  io.ptw := null
  io.fpu_req := null
  io.fpu_resp := null
  io.mem := null
  */
}


class AllToAllModuleTester(c: AllToAll) extends PeekPokeTester(c) {
  
  poke(c.io.cmd.valid, false.B) 
  poke(c.io.cmd.bits.inst.funct, "b0000001".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.inst.rd, 1.U)
  poke(c.io.cmd.bits.rs1, 23.U)
  poke(c.io.cmd.bits.rs2, 31.U)
  poke(c.io.resp.ready, true.B)
  

  step(1)

  //idle
  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.rd,1.U)
  expect(c.io.resp.bits.data, 0.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 
  

  poke(c.io.cmd.valid, true.B) 
  //load
  poke(c.io.cmd.bits.inst.funct, "b0000001".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.inst.rd, 3.U)
  poke(c.io.cmd.bits.rs1, 24.U)
  poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000001_0000000000000001_0000000000000010".U)
  
  step(1)

  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, true.B)
  expect(c.io.resp.bits.rd,3.U)
  expect(c.io.resp.bits.data, 32.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 
  
  poke(c.io.cmd.valid, false.B) 
  poke(c.io.cmd.bits.inst.funct, "b0000001".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.inst.rd, 4.U)
  poke(c.io.cmd.bits.rs1, 24.U)
  poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000011_0000000000010001_0000000100000010".U)


  step(1)

  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.rd,4.U)
  expect(c.io.resp.bits.data, 0.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 




  
}

class testATALoadStore(c: AllToAll) extends PeekPokeTester(c) {

  poke(c.io.cmd.valid, false.B) 
  poke(c.io.cmd.bits.inst.funct, "b0000001".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.inst.rd, 1.U)
  poke(c.io.cmd.bits.rs1, 23.U)
  poke(c.io.cmd.bits.rs2,3.U)
  poke(c.io.resp.ready, true.B)
  

  step(1)

  //idle
  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.rd,1.U)
  expect(c.io.resp.bits.data, 0.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 
  

  poke(c.io.cmd.valid, true.B) 
  //load
  poke(c.io.cmd.bits.inst.funct, "b0000001".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.inst.rd, 3.U)
  poke(c.io.cmd.bits.rs1, 24.U)
  poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000001_0000000000000001_0000000000000010".U)
  
  step(1)

  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, true.B)
  expect(c.io.resp.bits.rd,3.U)
  expect(c.io.resp.bits.data, 32.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 
  
  poke(c.io.cmd.valid, true.B) 
  //store
  poke(c.io.cmd.bits.inst.funct, "b0000010".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.inst.rd, 5.U)
  poke(c.io.cmd.bits.rs1, 41.U)
  poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000001_0000000000000001_0000000000000010".U)

  step(1)

  expect(c.io.cmd.ready, false.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.rd,5.U)
  expect(c.io.resp.bits.data, 33.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, true.B) 

  poke(c.io.cmd.valid, false.B) 

  step(1)

  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, true.B)
  expect(c.io.resp.bits.rd,5.U)
  expect(c.io.resp.bits.data, 24.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 

  poke(c.io.cmd.valid, false.B) 

  step(1)
  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.rd,5.U)
  expect(c.io.resp.bits.data, 0.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B)
 
}


class testATAStallResp(c: AllToAll) extends PeekPokeTester(c) {

  poke(c.io.cmd.valid, false.B) 
  poke(c.io.cmd.bits.inst.funct, "b0000001".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.inst.rd, 1.U)
  poke(c.io.cmd.bits.rs1, 23.U)
  poke(c.io.cmd.bits.rs2,3.U)
  poke(c.io.resp.ready, true.B)
  

  step(1)

  //idle
  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.rd,1.U)
  expect(c.io.resp.bits.data, 0.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 
  

  poke(c.io.cmd.valid, true.B) 
  //load
  poke(c.io.cmd.bits.inst.funct, "b0000001".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.inst.rd, 3.U)
  poke(c.io.cmd.bits.rs1, 24.U)
  poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000001_0000000000000001_0000000000000010".U)
  
  step(1)

  poke(c.io.resp.ready, false.B)

  expect(c.io.cmd.ready, false.B)
  expect(c.io.resp.valid, true.B)
  expect(c.io.resp.bits.rd,3.U)
  expect(c.io.resp.bits.data, 32.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, true.B) 

  poke(c.io.cmd.valid, false.B)

  step(1)

  poke(c.io.resp.ready, true.B)

  expect(c.io.cmd.ready, false.B)
  expect(c.io.resp.valid, true.B)
  expect(c.io.resp.bits.rd,3.U)
  expect(c.io.resp.bits.data, 32.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, true.B)   

  step(1)

  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.rd,3.U)
  expect(c.io.resp.bits.data, 0.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 
  
  poke(c.io.cmd.valid, true.B) 
  //store
  poke(c.io.cmd.bits.inst.funct, "b0000010".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.inst.rd, 5.U)
  poke(c.io.cmd.bits.rs1, 41.U)
  poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000001_0000000000000001_0000000000000010".U)

  step(1)

  expect(c.io.cmd.ready, false.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.rd,5.U)
  expect(c.io.resp.bits.data, 33.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, true.B) 

  poke(c.io.cmd.valid, false.B) 

  step(1)

  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, true.B)
  expect(c.io.resp.bits.rd,5.U)
  expect(c.io.resp.bits.data, 24.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 

  poke(c.io.cmd.valid, false.B) 

  step(1)
  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.rd,5.U)
  expect(c.io.resp.bits.data, 0.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B)
 
}

/*
class testATALoadStore(c: AllToAll) extends PeekPokeTester(c) {

  poke(c.io.cmd.valid, false.B) 
  poke(c.io.cmd.bits.inst.funct, "b0000001".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.inst.rd, 1.U)
  poke(c.io.cmd.bits.rs1, 23.U)
  poke(c.io.cmd.bits.rs2,3.U)
  poke(c.io.resp.ready, true.B)
  

  step(1)

  //idle
  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.rd,1.U)
  expect(c.io.resp.bits.data, 0.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 
  

  poke(c.io.cmd.valid, true.B) 
  //load
  poke(c.io.cmd.bits.inst.funct, "b0000001".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.inst.rd, 3.U)
  poke(c.io.cmd.bits.rs1, 24.U)
  poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000001_0000000000000001_0000000000000010".U)
  
  step(1)

  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, true.B)
  expect(c.io.resp.bits.rd,3.U)
  expect(c.io.resp.bits.data, 32.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 
  
  poke(c.io.cmd.valid, true.B) 
  //store
  poke(c.io.cmd.bits.inst.funct, "b0000010".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.inst.rd, 5.U)
  poke(c.io.cmd.bits.rs1, 41.U)
  poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000001_0000000000000001_0000000000000010".U)

  step(1)

  expect(c.io.cmd.ready, false.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.rd,5.U)
  expect(c.io.resp.bits.data, 33.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, true.B) 

  poke(c.io.cmd.valid, false.B) 

  step(1)

  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, true.B)
  expect(c.io.resp.bits.rd,5.U)
  expect(c.io.resp.bits.data, 24.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 

  poke(c.io.cmd.valid, false.B) 

  step(1)
  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.rd,5.U)
  expect(c.io.resp.bits.data, 0.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B)
 
}*/


class testATA(c: AllToAll) extends PeekPokeTester(c) {

  poke(c.io.cmd.valid, false.B) 
  poke(c.io.resp.ready, true.B)
  

  step(1)

  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //load
  
  poke(c.io.cmd.valid, true.B)
  poke(c.io.cmd.bits.inst.funct, "b0000001".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
 
  
poke(c.io.cmd.bits.rs1, 0L.U)
poke(c.io.cmd.bits.rs2,  0L.U)
step(1)
poke(c.io.cmd.bits.rs1, 1L.U)
poke(c.io.cmd.bits.rs2,  4294967296L.U)
step(1)
poke(c.io.cmd.bits.rs1, 2L.U)
poke(c.io.cmd.bits.rs2,  8589934592L.U)
step(1)
poke(c.io.cmd.bits.rs1, 3L.U)
poke(c.io.cmd.bits.rs2,  12884901888L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4L.U)
poke(c.io.cmd.bits.rs2,  17179869184L.U)
step(1)
poke(c.io.cmd.bits.rs1, 5L.U)
poke(c.io.cmd.bits.rs2,  21474836480L.U)
step(1)
poke(c.io.cmd.bits.rs1, 6L.U)
poke(c.io.cmd.bits.rs2,  25769803776L.U)
step(1)
poke(c.io.cmd.bits.rs1, 7L.U)
poke(c.io.cmd.bits.rs2,  30064771072L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8L.U)
poke(c.io.cmd.bits.rs2,  34359738368L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4294967296L.U)
poke(c.io.cmd.bits.rs2,  1L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4294967297L.U)
poke(c.io.cmd.bits.rs2,  4294967297L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4294967298L.U)
poke(c.io.cmd.bits.rs2,  8589934593L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4294967299L.U)
poke(c.io.cmd.bits.rs2,  12884901889L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4294967300L.U)
poke(c.io.cmd.bits.rs2,  17179869185L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4294967301L.U)
poke(c.io.cmd.bits.rs2,  21474836481L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4294967302L.U)
poke(c.io.cmd.bits.rs2,  25769803777L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4294967303L.U)
poke(c.io.cmd.bits.rs2,  30064771073L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4294967304L.U)
poke(c.io.cmd.bits.rs2,  34359738369L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8589934592L.U)
poke(c.io.cmd.bits.rs2,  2L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8589934593L.U)
poke(c.io.cmd.bits.rs2,  4294967298L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8589934594L.U)
poke(c.io.cmd.bits.rs2,  8589934594L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8589934595L.U)
poke(c.io.cmd.bits.rs2,  12884901890L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8589934596L.U)
poke(c.io.cmd.bits.rs2,  17179869186L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8589934597L.U)
poke(c.io.cmd.bits.rs2,  21474836482L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8589934598L.U)
poke(c.io.cmd.bits.rs2,  25769803778L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8589934599L.U)
poke(c.io.cmd.bits.rs2,  30064771074L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8589934600L.U)
poke(c.io.cmd.bits.rs2,  34359738370L.U)
step(1)
poke(c.io.cmd.bits.rs1, 12884901888L.U)
poke(c.io.cmd.bits.rs2,  65536L.U)
step(1)
poke(c.io.cmd.bits.rs1, 12884901889L.U)
poke(c.io.cmd.bits.rs2,  4295032832L.U)
step(1)
poke(c.io.cmd.bits.rs1, 12884901890L.U)
poke(c.io.cmd.bits.rs2,  8590000128L.U)
step(1)
poke(c.io.cmd.bits.rs1, 12884901891L.U)
poke(c.io.cmd.bits.rs2,  12884967424L.U)
step(1)
poke(c.io.cmd.bits.rs1, 12884901892L.U)
poke(c.io.cmd.bits.rs2,  17179934720L.U)
step(1)
poke(c.io.cmd.bits.rs1, 12884901893L.U)
poke(c.io.cmd.bits.rs2,  21474902016L.U)
step(1)
poke(c.io.cmd.bits.rs1, 12884901894L.U)
poke(c.io.cmd.bits.rs2,  25769869312L.U)
step(1)
poke(c.io.cmd.bits.rs1, 12884901895L.U)
poke(c.io.cmd.bits.rs2,  30064836608L.U)
step(1)
poke(c.io.cmd.bits.rs1, 12884901896L.U)
poke(c.io.cmd.bits.rs2,  34359803904L.U)
step(1)
poke(c.io.cmd.bits.rs1, 17179869184L.U)
poke(c.io.cmd.bits.rs2,  65537L.U)
step(1)
poke(c.io.cmd.bits.rs1, 17179869185L.U)
poke(c.io.cmd.bits.rs2,  4295032833L.U)
step(1)
poke(c.io.cmd.bits.rs1, 17179869186L.U)
poke(c.io.cmd.bits.rs2,  8590000129L.U)
step(1)
poke(c.io.cmd.bits.rs1, 17179869187L.U)
poke(c.io.cmd.bits.rs2,  12884967425L.U)
step(1)
poke(c.io.cmd.bits.rs1, 17179869188L.U)
poke(c.io.cmd.bits.rs2,  17179934721L.U)
step(1)
poke(c.io.cmd.bits.rs1, 17179869189L.U)
poke(c.io.cmd.bits.rs2,  21474902017L.U)
step(1)
poke(c.io.cmd.bits.rs1, 17179869190L.U)
poke(c.io.cmd.bits.rs2,  25769869313L.U)
step(1)
poke(c.io.cmd.bits.rs1, 17179869191L.U)
poke(c.io.cmd.bits.rs2,  30064836609L.U)
step(1)
poke(c.io.cmd.bits.rs1, 17179869192L.U)
poke(c.io.cmd.bits.rs2,  34359803905L.U)
step(1)
poke(c.io.cmd.bits.rs1, 21474836480L.U)
poke(c.io.cmd.bits.rs2,  65538L.U)
step(1)
poke(c.io.cmd.bits.rs1, 21474836481L.U)
poke(c.io.cmd.bits.rs2,  4295032834L.U)
step(1)
poke(c.io.cmd.bits.rs1, 21474836482L.U)
poke(c.io.cmd.bits.rs2,  8590000130L.U)
step(1)
poke(c.io.cmd.bits.rs1, 21474836483L.U)
poke(c.io.cmd.bits.rs2,  12884967426L.U)
step(1)
poke(c.io.cmd.bits.rs1, 21474836484L.U)
poke(c.io.cmd.bits.rs2,  17179934722L.U)
step(1)
poke(c.io.cmd.bits.rs1, 21474836485L.U)
poke(c.io.cmd.bits.rs2,  21474902018L.U)
step(1)
poke(c.io.cmd.bits.rs1, 21474836486L.U)
poke(c.io.cmd.bits.rs2,  25769869314L.U)
step(1)
poke(c.io.cmd.bits.rs1, 21474836487L.U)
poke(c.io.cmd.bits.rs2,  30064836610L.U)
step(1)
poke(c.io.cmd.bits.rs1, 21474836488L.U)
poke(c.io.cmd.bits.rs2,  34359803906L.U)
step(1)
poke(c.io.cmd.bits.rs1, 25769803776L.U)
poke(c.io.cmd.bits.rs2,  131072L.U)
step(1)
poke(c.io.cmd.bits.rs1, 25769803777L.U)
poke(c.io.cmd.bits.rs2,  4295098368L.U)
step(1)
poke(c.io.cmd.bits.rs1, 25769803778L.U)
poke(c.io.cmd.bits.rs2,  8590065664L.U)
step(1)
poke(c.io.cmd.bits.rs1, 25769803779L.U)
poke(c.io.cmd.bits.rs2,  12885032960L.U)
step(1)
poke(c.io.cmd.bits.rs1, 25769803780L.U)
poke(c.io.cmd.bits.rs2,  17180000256L.U)
step(1)
poke(c.io.cmd.bits.rs1, 25769803781L.U)
poke(c.io.cmd.bits.rs2,  21474967552L.U)
step(1)
poke(c.io.cmd.bits.rs1, 25769803782L.U)
poke(c.io.cmd.bits.rs2,  25769934848L.U)
step(1)
poke(c.io.cmd.bits.rs1, 25769803783L.U)
poke(c.io.cmd.bits.rs2,  30064902144L.U)
step(1)
poke(c.io.cmd.bits.rs1, 25769803784L.U)
poke(c.io.cmd.bits.rs2,  34359869440L.U)
step(1)
poke(c.io.cmd.bits.rs1, 30064771072L.U)
poke(c.io.cmd.bits.rs2,  131073L.U)
step(1)
poke(c.io.cmd.bits.rs1, 30064771073L.U)
poke(c.io.cmd.bits.rs2,  4295098369L.U)
step(1)
poke(c.io.cmd.bits.rs1, 30064771074L.U)
poke(c.io.cmd.bits.rs2,  8590065665L.U)
step(1)
poke(c.io.cmd.bits.rs1, 30064771075L.U)
poke(c.io.cmd.bits.rs2,  12885032961L.U)
step(1)
poke(c.io.cmd.bits.rs1, 30064771076L.U)
poke(c.io.cmd.bits.rs2,  17180000257L.U)
step(1)
poke(c.io.cmd.bits.rs1, 30064771077L.U)
poke(c.io.cmd.bits.rs2,  21474967553L.U)
step(1)
poke(c.io.cmd.bits.rs1, 30064771078L.U)
poke(c.io.cmd.bits.rs2,  25769934849L.U)
step(1)
poke(c.io.cmd.bits.rs1, 30064771079L.U)
poke(c.io.cmd.bits.rs2,  30064902145L.U)
step(1)
poke(c.io.cmd.bits.rs1, 30064771080L.U)
poke(c.io.cmd.bits.rs2,  34359869441L.U)
step(1)
poke(c.io.cmd.bits.rs1, 34359738368L.U)
poke(c.io.cmd.bits.rs2,  131074L.U)
step(1)
poke(c.io.cmd.bits.rs1, 34359738369L.U)
poke(c.io.cmd.bits.rs2,  4295098370L.U)
step(1)
poke(c.io.cmd.bits.rs1, 34359738370L.U)
poke(c.io.cmd.bits.rs2,  8590065666L.U)
step(1)
poke(c.io.cmd.bits.rs1, 34359738371L.U)
poke(c.io.cmd.bits.rs2,  12885032962L.U)
step(1)
poke(c.io.cmd.bits.rs1, 34359738372L.U)
poke(c.io.cmd.bits.rs2,  17180000258L.U)
step(1)
poke(c.io.cmd.bits.rs1, 34359738373L.U)
poke(c.io.cmd.bits.rs2,  21474967554L.U)
step(1)
poke(c.io.cmd.bits.rs1, 34359738374L.U)
poke(c.io.cmd.bits.rs2,  25769934850L.U)
step(1)
poke(c.io.cmd.bits.rs1, 34359738375L.U)
poke(c.io.cmd.bits.rs2,  30064902146L.U)
step(1)
poke(c.io.cmd.bits.rs1, 34359738376L.U)
poke(c.io.cmd.bits.rs2,  34359869442L.U)
step(1)

  poke(c.io.cmd.valid, false.B)

  step(1)

  poke(c.io.cmd.valid, false.B)
  step(1)
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //do all to all

  poke(c.io.cmd.valid, true.B)
  //poke(c.io.cmd.bits.inst.funct, "b0000000".U)
  //poke(c.io.cmd.bits.inst.opcode, "b0101011".U)

  poke(c.io.cmd.bits.inst.funct, "b0000011".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.rs1, 1.U)

  step(1)
  poke(c.io.cmd.valid, false.B)

  step(2000)

  //idle
  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.data, 0.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 
  step(1)
  println("before store")
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //store

  poke(c.io.cmd.bits.inst.funct, "b0000010".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)

  
  
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654705664L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 0L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949672960L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4294967296L.U)
println("second store")
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244640256L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8589934592L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539607552L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 12884901888L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834574848L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 17179869184L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129542144L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 21474836480L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424509440L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 25769803776L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719476736L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 30064771072L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014444032L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 34359738368L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654705665L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 1L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949672961L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4294967297L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244640257L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8589934593L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539607553L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 12884901889L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834574849L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 17179869185L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129542145L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 21474836481L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424509441L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 25769803777L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719476737L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 30064771073L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014444033L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 34359738369L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654705666L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 2L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949672962L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4294967298L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244640258L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8589934594L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539607554L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 12884901890L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834574850L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 17179869186L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129542146L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 21474836482L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424509442L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 25769803778L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719476738L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 30064771074L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014444034L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 34359738370L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654771200L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 3L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949738496L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4294967299L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244705792L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8589934595L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539673088L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 12884901891L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834640384L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 17179869187L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129607680L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 21474836483L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424574976L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 25769803779L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719542272L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 30064771075L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014509568L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 34359738371L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654771201L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949738497L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4294967300L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244705793L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8589934596L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539673089L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 12884901892L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834640385L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 17179869188L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129607681L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 21474836484L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424574977L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 25769803780L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719542273L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 30064771076L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014509569L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 34359738372L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654771202L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 5L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949738498L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4294967301L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244705794L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8589934597L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539673090L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 12884901893L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834640386L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 17179869189L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129607682L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 21474836485L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424574978L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 25769803781L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719542274L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 30064771077L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014509570L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 34359738373L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654836736L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 6L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949804032L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4294967302L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244771328L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8589934598L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539738624L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 12884901894L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834705920L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 17179869190L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129673216L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 21474836486L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424640512L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 25769803782L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719607808L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 30064771078L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014575104L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 34359738374L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654836737L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 7L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949804033L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4294967303L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244771329L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8589934599L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539738625L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 12884901895L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834705921L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 17179869191L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129673217L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 21474836487L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424640513L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 25769803783L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719607809L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 30064771079L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014575105L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 34359738375L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654836738L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949804034L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4294967304L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244771330L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8589934600L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539738626L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 12884901896L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834705922L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 17179869192L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129673218L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 21474836488L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424640514L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 25769803784L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719607810L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 30064771080L.U)//
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014575106L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
println("before last store")
expect(c.io.resp.bits.data, 34359738376L.U)
poke(c.io.cmd.valid, false.B)
step(1)
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
 
}


class testATA1(c: AllToAll) extends PeekPokeTester(c) {

  poke(c.io.cmd.valid, false.B) 
  poke(c.io.resp.ready, true.B)
  

  step(1)

  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //load
  
  poke(c.io.cmd.valid, true.B)
  poke(c.io.cmd.bits.inst.funct, "b0000001".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
 
  
poke(c.io.cmd.bits.rs1, 0L.U)
poke(c.io.cmd.bits.rs2,  0L.U)
step(1)
poke(c.io.cmd.bits.rs1, 1L.U)
poke(c.io.cmd.bits.rs2,  4294967296L.U)
step(1)
poke(c.io.cmd.bits.rs1, 2L.U)
poke(c.io.cmd.bits.rs2,  8589934592L.U)
step(1)
poke(c.io.cmd.bits.rs1, 3L.U)
poke(c.io.cmd.bits.rs2,  12884901888L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4L.U)
poke(c.io.cmd.bits.rs2,  17179869184L.U)
step(1)
poke(c.io.cmd.bits.rs1, 5L.U)
poke(c.io.cmd.bits.rs2,  21474836480L.U)
step(1)
poke(c.io.cmd.bits.rs1, 6L.U)
poke(c.io.cmd.bits.rs2,  25769803776L.U)
step(1)
poke(c.io.cmd.bits.rs1, 7L.U)
poke(c.io.cmd.bits.rs2,  30064771072L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8L.U)
poke(c.io.cmd.bits.rs2,  34359738368L.U)
step(1)
poke(c.io.cmd.bits.rs1, 0L.U)
poke(c.io.cmd.bits.rs2,  1L.U)
step(1)
poke(c.io.cmd.bits.rs1, 1L.U)
poke(c.io.cmd.bits.rs2,  4294967297L.U)
step(1)
poke(c.io.cmd.bits.rs1, 2L.U)
poke(c.io.cmd.bits.rs2,  8589934593L.U)
step(1)
poke(c.io.cmd.bits.rs1, 3L.U)
poke(c.io.cmd.bits.rs2,  12884901889L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4L.U)
poke(c.io.cmd.bits.rs2,  17179869185L.U)
step(1)
poke(c.io.cmd.bits.rs1, 5L.U)
poke(c.io.cmd.bits.rs2,  21474836481L.U)
step(1)
poke(c.io.cmd.bits.rs1, 6L.U)
poke(c.io.cmd.bits.rs2,  25769803777L.U)
step(1)
poke(c.io.cmd.bits.rs1, 7L.U)
poke(c.io.cmd.bits.rs2,  30064771073L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8L.U)
poke(c.io.cmd.bits.rs2,  34359738369L.U)
step(1)
poke(c.io.cmd.bits.rs1, 0L.U)
poke(c.io.cmd.bits.rs2,  2L.U)
step(1)
poke(c.io.cmd.bits.rs1, 1L.U)
poke(c.io.cmd.bits.rs2,  4294967298L.U)
step(1)
poke(c.io.cmd.bits.rs1, 2L.U)
poke(c.io.cmd.bits.rs2,  8589934594L.U)
step(1)
poke(c.io.cmd.bits.rs1, 3L.U)
poke(c.io.cmd.bits.rs2,  12884901890L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4L.U)
poke(c.io.cmd.bits.rs2,  17179869186L.U)
step(1)
poke(c.io.cmd.bits.rs1, 5L.U)
poke(c.io.cmd.bits.rs2,  21474836482L.U)
step(1)
poke(c.io.cmd.bits.rs1, 6L.U)
poke(c.io.cmd.bits.rs2,  25769803778L.U)
step(1)
poke(c.io.cmd.bits.rs1, 7L.U)
poke(c.io.cmd.bits.rs2,  30064771074L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8L.U)
poke(c.io.cmd.bits.rs2,  34359738370L.U)
step(1)
poke(c.io.cmd.bits.rs1, 0L.U)
poke(c.io.cmd.bits.rs2,  65536L.U)
step(1)
poke(c.io.cmd.bits.rs1, 1L.U)
poke(c.io.cmd.bits.rs2,  4295032832L.U)
step(1)
poke(c.io.cmd.bits.rs1, 2L.U)
poke(c.io.cmd.bits.rs2,  8590000128L.U)
step(1)
poke(c.io.cmd.bits.rs1, 3L.U)
poke(c.io.cmd.bits.rs2,  12884967424L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4L.U)
poke(c.io.cmd.bits.rs2,  17179934720L.U)
step(1)
poke(c.io.cmd.bits.rs1, 5L.U)
poke(c.io.cmd.bits.rs2,  21474902016L.U)
step(1)
poke(c.io.cmd.bits.rs1, 6L.U)
poke(c.io.cmd.bits.rs2,  25769869312L.U)
step(1)
poke(c.io.cmd.bits.rs1, 7L.U)
poke(c.io.cmd.bits.rs2,  30064836608L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8L.U)
poke(c.io.cmd.bits.rs2,  34359803904L.U)
step(1)
poke(c.io.cmd.bits.rs1, 0L.U)
poke(c.io.cmd.bits.rs2,  65537L.U)
step(1)
poke(c.io.cmd.bits.rs1, 1L.U)
poke(c.io.cmd.bits.rs2,  4295032833L.U)
step(1)
poke(c.io.cmd.bits.rs1, 2L.U)
poke(c.io.cmd.bits.rs2,  8590000129L.U)
step(1)
poke(c.io.cmd.bits.rs1, 3L.U)
poke(c.io.cmd.bits.rs2,  12884967425L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4L.U)
poke(c.io.cmd.bits.rs2,  17179934721L.U)
step(1)
poke(c.io.cmd.bits.rs1, 5L.U)
poke(c.io.cmd.bits.rs2,  21474902017L.U)
step(1)
poke(c.io.cmd.bits.rs1, 6L.U)
poke(c.io.cmd.bits.rs2,  25769869313L.U)
step(1)
poke(c.io.cmd.bits.rs1, 7L.U)
poke(c.io.cmd.bits.rs2,  30064836609L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8L.U)
poke(c.io.cmd.bits.rs2,  34359803905L.U)
step(1)
poke(c.io.cmd.bits.rs1, 0L.U)
poke(c.io.cmd.bits.rs2,  65538L.U)
step(1)
poke(c.io.cmd.bits.rs1, 1L.U)
poke(c.io.cmd.bits.rs2,  4295032834L.U)
step(1)
poke(c.io.cmd.bits.rs1, 2L.U)
poke(c.io.cmd.bits.rs2,  8590000130L.U)
step(1)
poke(c.io.cmd.bits.rs1, 3L.U)
poke(c.io.cmd.bits.rs2,  12884967426L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4L.U)
poke(c.io.cmd.bits.rs2,  17179934722L.U)
step(1)
poke(c.io.cmd.bits.rs1, 5L.U)
poke(c.io.cmd.bits.rs2,  21474902018L.U)
step(1)
poke(c.io.cmd.bits.rs1, 6L.U)
poke(c.io.cmd.bits.rs2,  25769869314L.U)
step(1)
poke(c.io.cmd.bits.rs1, 7L.U)
poke(c.io.cmd.bits.rs2,  30064836610L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8L.U)
poke(c.io.cmd.bits.rs2,  34359803906L.U)
step(1)
poke(c.io.cmd.bits.rs1, 0L.U)
poke(c.io.cmd.bits.rs2,  131072L.U)
step(1)
poke(c.io.cmd.bits.rs1, 1L.U)
poke(c.io.cmd.bits.rs2,  4295098368L.U)
step(1)
poke(c.io.cmd.bits.rs1, 2L.U)
poke(c.io.cmd.bits.rs2,  8590065664L.U)
step(1)
poke(c.io.cmd.bits.rs1, 3L.U)
poke(c.io.cmd.bits.rs2,  12885032960L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4L.U)
poke(c.io.cmd.bits.rs2,  17180000256L.U)
step(1)
poke(c.io.cmd.bits.rs1, 5L.U)
poke(c.io.cmd.bits.rs2,  21474967552L.U)
step(1)
poke(c.io.cmd.bits.rs1, 6L.U)
poke(c.io.cmd.bits.rs2,  25769934848L.U)
step(1)
poke(c.io.cmd.bits.rs1, 7L.U)
poke(c.io.cmd.bits.rs2,  30064902144L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8L.U)
poke(c.io.cmd.bits.rs2,  34359869440L.U)
step(1)
poke(c.io.cmd.bits.rs1, 0L.U)
poke(c.io.cmd.bits.rs2,  131073L.U)
step(1)
poke(c.io.cmd.bits.rs1, 1L.U)
poke(c.io.cmd.bits.rs2,  4295098369L.U)
step(1)
poke(c.io.cmd.bits.rs1, 2L.U)
poke(c.io.cmd.bits.rs2,  8590065665L.U)
step(1)
poke(c.io.cmd.bits.rs1, 3L.U)
poke(c.io.cmd.bits.rs2,  12885032961L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4L.U)
poke(c.io.cmd.bits.rs2,  17180000257L.U)
step(1)
poke(c.io.cmd.bits.rs1, 5L.U)
poke(c.io.cmd.bits.rs2,  21474967553L.U)
step(1)
poke(c.io.cmd.bits.rs1, 6L.U)
poke(c.io.cmd.bits.rs2,  25769934849L.U)
step(1)
poke(c.io.cmd.bits.rs1, 7L.U)
poke(c.io.cmd.bits.rs2,  30064902145L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8L.U)
poke(c.io.cmd.bits.rs2,  34359869441L.U)
step(1)
poke(c.io.cmd.bits.rs1, 0L.U)
poke(c.io.cmd.bits.rs2,  131074L.U)
step(1)
poke(c.io.cmd.bits.rs1, 1L.U)
poke(c.io.cmd.bits.rs2,  4295098370L.U)
step(1)
poke(c.io.cmd.bits.rs1, 2L.U)
poke(c.io.cmd.bits.rs2,  8590065666L.U)
step(1)
poke(c.io.cmd.bits.rs1, 3L.U)
poke(c.io.cmd.bits.rs2,  12885032962L.U)
step(1)
poke(c.io.cmd.bits.rs1, 4L.U)
poke(c.io.cmd.bits.rs2,  17180000258L.U)
step(1)
poke(c.io.cmd.bits.rs1, 5L.U)
poke(c.io.cmd.bits.rs2,  21474967554L.U)
step(1)
poke(c.io.cmd.bits.rs1, 6L.U)
poke(c.io.cmd.bits.rs2,  25769934850L.U)
step(1)
poke(c.io.cmd.bits.rs1, 7L.U)
poke(c.io.cmd.bits.rs2,  30064902146L.U)
step(1)
poke(c.io.cmd.bits.rs1, 8L.U)
poke(c.io.cmd.bits.rs2,  34359869442L.U)
step(1)
/*
poke(c.io.cmd.bits.rs1, 0.U)
poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000000_0000000000000010_0000000000000010".U)
step(1)
poke(c.io.cmd.bits.rs1, 1.U)
poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000001_0000000000000010_0000000000000010".U)
step(1)
poke(c.io.cmd.bits.rs1, 2.U)
poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000010_0000000000000010_0000000000000010".U)
step(1)
poke(c.io.cmd.bits.rs1, 3.U)
poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000011_0000000000000010_0000000000000010".U)
step(1)
poke(c.io.cmd.bits.rs1, 4.U)
poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000100_0000000000000010_0000000000000010".U)
step(1)
poke(c.io.cmd.bits.rs1, 5.U)
poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000101_0000000000000010_0000000000000010".U)
step(1)
poke(c.io.cmd.bits.rs1, 6.U)
poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000110_0000000000000010_0000000000000010".U)
step(1)
poke(c.io.cmd.bits.rs1, 7.U)
poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000000111_0000000000000010_0000000000000010".U)
step(1)
poke(c.io.cmd.bits.rs1, 8.U)
poke(c.io.cmd.bits.rs2,  "b00000000000000000000000000001000_0000000000000010_0000000000000010".U)
step(1)*/

  poke(c.io.cmd.valid, false.B)

  step(1)

  poke(c.io.cmd.valid, false.B)
  step(1)
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //do all to all

  poke(c.io.cmd.valid, true.B)
  //poke(c.io.cmd.bits.inst.funct, "b0000000".U)
  //poke(c.io.cmd.bits.inst.opcode, "b0101011".U)

  poke(c.io.cmd.bits.inst.funct, "b0000011".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)
  poke(c.io.cmd.bits.rs1, 1.U)

  step(1)
  poke(c.io.cmd.valid, false.B)
  expect(c.io.cmd.ready, false.B)
  expect(c.io.busy, true.B)

  step(1)

  expect(c.io.cmd.ready, false.B)
  expect(c.io.busy, true.B)
  step(1)
  
  expect(c.io.cmd.ready, false.B)
  expect(c.io.busy, true.B)
  step(1)

  expect(c.io.cmd.ready, false.B)
  expect(c.io.busy, true.B)

   step(1)

  expect(c.io.cmd.ready, false.B)
  expect(c.io.busy, true.B)
   step(1)

  expect(c.io.cmd.ready, false.B)
  expect(c.io.busy, true.B)

  println("\nE' davvero busy")

  poke(c.io.resp.ready, false.B)

  step(100)

  expect(c.io.resp.valid, true.B)
  expect(c.io.cmd.ready, false.B)
  expect(c.io.busy, true.B)
  poke(c.io.resp.ready, true.B)

  step(1)

  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.data, 0.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 
  println("\nprimo idle dopo resp")

  step(1)

  //idle
  expect(c.io.cmd.ready, true.B)
  expect(c.io.resp.valid, false.B)
  expect(c.io.resp.bits.data, 0.U)
  expect(c.io.interrupt, false.B)
  expect(c.io.busy, false.B) 
  step(1)
  println("before store")
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //store

  poke(c.io.cmd.bits.inst.funct, "b0000010".U)
  poke(c.io.cmd.bits.inst.opcode, "b0001011".U)

  
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654705664L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 0L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949672960L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 0L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244640256L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 0L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539607552L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 0L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834574848L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 0L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129542144L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 0L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424509440L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 0L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719476736L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 0L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014444032L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 0L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654705665L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 1L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949672961L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 1L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244640257L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 1L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539607553L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 1L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834574849L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 1L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129542145L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 1L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424509441L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 1L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719476737L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 1L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014444033L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 1L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654705666L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 2L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949672962L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 2L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244640258L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 2L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539607554L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 2L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834574850L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 2L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129542146L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 2L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424509442L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 2L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719476738L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 2L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014444034L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 2L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654771200L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 3L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949738496L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 3L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244705792L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 3L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539673088L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 3L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834640384L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 3L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129607680L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 3L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424574976L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 3L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719542272L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 3L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014509568L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 3L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654771201L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949738497L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244705793L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539673089L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834640385L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129607681L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424574977L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719542273L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014509569L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 4L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654771202L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 5L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949738498L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 5L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244705794L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 5L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539673090L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 5L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834640386L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 5L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129607682L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 5L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424574978L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 5L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719542274L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 5L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014509570L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 5L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654836736L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 6L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949804032L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 6L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244771328L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 6L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539738624L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 6L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834705920L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 6L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129673216L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 6L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424640512L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 6L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719607808L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 6L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014575104L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 6L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654836737L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 7L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949804033L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 7L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244771329L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 7L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539738625L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 7L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834705921L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 7L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129673217L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 7L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424640513L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 7L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719607809L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 7L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014575105L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 7L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  38654836738L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  42949804034L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  47244771330L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  51539738626L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  55834705922L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  60129673218L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  64424640514L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  68719607810L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8L.U)
poke(c.io.cmd.valid, false.B)
step(1)
poke(c.io.cmd.valid, true.B)
poke(c.io.cmd.bits.rs2,  73014575106L.U)
step(1)
poke(c.io.cmd.valid, false.B)
step(1)
println("\nlast expect")
expect(c.io.resp.valid, true.B)
expect(c.io.resp.bits.data, 8L.U)
poke(c.io.cmd.valid, false.B)
step(1)
  


  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
 
}

class AllToAllTest extends ChiselFlatSpec {

  val testerArgs = Array("")

  behavior of "controllerFSMTest"
  it should "changeState" in {
    chisel3.iotesters.Driver.execute( testerArgs, () => new AllToAll()) {
      c => new AllToAllModuleTester(c)
    } should be (true)
  }

  behavior of "testLoad"
  it should "load" in {
    chisel3.iotesters.Driver.execute( testerArgs, () => new AllToAll()) {
      c => new testATALoadStore(c)
    } should be (true)
  }

  behavior of "testStallResp"
  it should "stallResp" in {
    chisel3.iotesters.Driver.execute( testerArgs, () => new AllToAll()) {
      c => new testATAStallResp(c)
    } should be (true)
  }

  behavior of "real_first_test1"
  it should "real first test" in {
    chisel3.iotesters.Driver.execute( testerArgs, () => new AllToAll()) {
      c => new testATA(c)
    } should be (true)
  }

  behavior of "real_first_test2"
  it should "real first test" in {
    chisel3.iotesters.Driver.execute( testerArgs, () => new AllToAll()) {
      c => new testATA1(c)
    } should be (true)
  }

}